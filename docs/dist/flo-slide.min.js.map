{"version":3,"file":"flo-slide.min.js","sources":["../src/modules/utils.js","../src/modules/clickDrag.js","../src/modules/scrollbar.js","../src/modules/arrows.js","../src/modules/dots.js","../src/index.js"],"sourcesContent":["const addNamedEventListener = (eventName, data, element, handler) => {\n  element.addEventListener(eventName, handler)\n  data.eventListeners[eventName] = data.eventListeners[eventName] || []\n  data.eventListeners[eventName].push({ element, handler })\n}\n\nconst removeNamedEventListener = (eventName, data) => {\n  if (data.eventListeners[eventName]) {\n    data.eventListeners[eventName].forEach(({ element, handler }) => {\n      element.removeEventListener(eventName, handler)\n    })\n    delete data.eventListeners[eventName]\n  }\n}\n\nconst debounce = (func, wait = 250, immediate = false) => {\n  let timeout\n  return function (...args) {\n    const later = () => {\n      timeout = null\n      if (!immediate) func.apply(this, args) // Call func only if not immediate\n    }\n    const callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    if (callNow) func.apply(this, args) // Call func immediately if required\n  }\n}\n\nconst getConfigForBreakpoint = data => {\n  const key = Math.max(...Object.keys(data.config).filter(breakpoint => window.innerWidth >= breakpoint))\n  data.currentBreakpoint = key\n  return data.config[key]\n}\n\nconst getChildWidthFromParent = (data) => {\n  const { slidesToShow } = getConfigForBreakpoint(data)\n  return data.els.scrollTrack.offsetWidth / slidesToShow\n}\n\nexport {\n  debounce,\n  getConfigForBreakpoint,\n  getChildWidthFromParent,\n  addNamedEventListener,\n  removeNamedEventListener }\n","let isDragging = false\nlet isClick = false\nlet startX, scrollLeft, clickStartTime\n\nconst handleMouseDown = (e, scrollTrack) => {\n  if (e.button !== 0) return\n  clickStartTime = Date.now()\n  isDragging = true\n  startX = e.pageX - scrollTrack.offsetLeft\n  scrollLeft = scrollTrack.scrollLeft\n}\n\nconst handleMouseUpAndLeave = e => {\n  if (e.button !== 0) return\n  isDragging = false\n  isClick = Date.now() - clickStartTime < 350\n  const clickableParent = e.target.closest('a, button')\n  const tagName = e.target.tagName.toLowerCase()\n  const classNames = [...e.target.classList]\n  if (!isClick) {\n    e.preventDefault()\n  } else if (isClick && tagName === 'a') {\n    e.target.click()\n  } else if (isClick && tagName === 'button') {\n    if (!classNames.includes('play-pause-button')) { e.target.click() }\n  } else if (isClick && clickableParent) {\n    clickableParent.click()\n  }\n  clickStartTime = null\n}\n\nconst move = (e, scrollTrack) => {\n  if (!isDragging) return\n  e.preventDefault()\n  const x = e.pageX - scrollTrack.offsetLeft\n  const walk = x - startX\n  scrollTrack.scrollLeft = scrollLeft - walk\n}\n\nconst handleClick = e => { isClick = false }\n\nconst addClickDrag = (data) => {\n  const { scrollTrack } = data.els\n  scrollTrack.addEventListener('click', handleClick)\n  scrollTrack.addEventListener('mousedown', (e) => handleMouseDown(e, scrollTrack))\n  scrollTrack.addEventListener('mousemove', (e) => move(e, scrollTrack))\n  scrollTrack.addEventListener('mouseup', handleMouseUpAndLeave)\n  scrollTrack.addEventListener('mouseleave', handleMouseUpAndLeave)\n}\n\nexport { addClickDrag }\n","import { debounce, getChildWidthFromParent, addNamedEventListener } from './utils'\n/**\n * Module for optional Scrollbar\n */\n\nconst addScrollbarMouseControl = els => {\n  const { scrollTrack, scrollbarThumb, scrollbar, gallery } = els\n  let isDragging = false\n  let startCursorPos, containerOffsetLeft, scrollbarScrollableWidth\n\n  const onMouseDown = (e) => {\n    if (e.target === scrollbarThumb) {\n      isDragging = true\n      containerOffsetLeft = scrollbar.getBoundingClientRect().left\n      scrollbarScrollableWidth = scrollbar.offsetWidth - scrollbarThumb.offsetWidth\n      startCursorPos = e.pageX - containerOffsetLeft - scrollbarThumb.offsetLeft\n      gallery.classList.add('no-select')\n    }\n  }\n\n  const onMouseMove = debounce((e) => {\n    if (!isDragging) return\n    e.preventDefault()\n    const nowCursorPos = e.pageX - containerOffsetLeft\n    const nowOffset = (nowCursorPos - startCursorPos)\n    let percentageScrolled = nowOffset / scrollbarScrollableWidth\n    if (percentageScrolled > 1) percentageScrolled = 1\n    if (percentageScrolled < 0) percentageScrolled = 0\n    scrollTrack.scrollLeft = percentageScrolled * (scrollTrack.scrollWidth - scrollTrack.clientWidth)\n  }, 10, true)\n\n  const onMouseUp = (e) => {\n    isDragging = false\n    els.gallery.classList.remove('no-select')\n  }\n  scrollbarThumb.addEventListener('mousedown', onMouseDown)\n  document.addEventListener('mousemove', onMouseMove)\n  document.addEventListener('mouseup', onMouseUp)\n}\n\nconst addScrollbarKeyboardControl = data => {\n  const { scrollTrack, scrollbarThumb } = data.els\n  scrollbarThumb.addEventListener('keydown', e => {\n    const childWidth = getChildWidthFromParent(data)\n    if (e.key === 'ArrowLeft') scrollTrack.scrollLeft = Math.max(scrollTrack.scrollLeft - childWidth, 0)\n    if (e.key === 'ArrowRight') scrollTrack.scrollLeft = Math.min(scrollTrack.scrollLeft + childWidth, scrollTrack.scrollWidth - scrollTrack.clientWidth)\n  })\n}\n\nconst setScrollbarPosition = els => {\n  const { scrollTrack, scrollbarThumb } = els\n  const scrollTrackWidth = scrollTrack.scrollWidth\n  const scrollTrackClientWidth = scrollTrack.clientWidth\n  const scrollLeft = scrollTrack.scrollLeft\n  const thumbWidth = scrollTrackClientWidth / scrollTrackWidth\n  const scrollTrackPosition = scrollLeft / (scrollTrackWidth - scrollTrackClientWidth)\n  const scrollableWidth = scrollTrackClientWidth * (1 - thumbWidth)\n  scrollbarThumb.style.width = `${Math.round(thumbWidth * 100)}%`\n  scrollbarThumb.setAttribute('aria-valuenow', `${Math.round(scrollTrackPosition * 100)}`)\n  scrollbarThumb.style.left = `${Math.round(scrollTrackPosition * scrollableWidth)}px`\n}\n\nconst buildScrollbar = (data) => {\n  const { uniqueGalleryId, els, els: { scrollTrack, scrollTrackWrapper } } = data\n  const scrollbar = document.createElement('div')\n  scrollbar.classList.add('flo-scrollbar')\n  scrollbar.setAttribute('aria-label', 'Horizontal scrollbar')\n  scrollbar.setAttribute('role', 'scrollbar')\n  scrollbar.setAttribute('aria-controls', uniqueGalleryId)\n  scrollbar.setAttribute('aria-orientation', 'horizontal')\n\n  const scrollbarThumb = document.createElement('div')\n  scrollbarThumb.classList.add('flo-scrollbar-thumb')\n  scrollbarThumb.setAttribute('aria-valuemin', '0')\n  scrollbarThumb.setAttribute('aria-valuemax', '100')\n  scrollbarThumb.setAttribute('aria-valuenow', '0')\n  scrollbarThumb.setAttribute('tabindex', '0')\n\n  scrollbar.appendChild(scrollbarThumb)\n  scrollTrackWrapper.appendChild(scrollbar)\n  els.scrollbar = scrollbar\n  els.scrollbarThumb = scrollbarThumb\n\n  setScrollbarPosition(els)\n  const debounceSetSBPos = debounce(() => setScrollbarPosition(els), 5, true)\n  addNamedEventListener('scroll', data, scrollTrack, debounceSetSBPos)\n  addScrollbarKeyboardControl(data)\n  addScrollbarMouseControl(els)\n}\n\nexport { buildScrollbar }\n","import { getConfigForBreakpoint, getChildWidthFromParent } from './utils'\n\n/**\n * Module for optional Arrows\n */\n\nconst calculateScrollPosition = (direction, data) => {\n  const { slidesToScroll } = getConfigForBreakpoint(data)\n  const { scrollTrack } = data.els\n  const childWidth = getChildWidthFromParent(data)\n  const scrollDirectionMultiplier = direction === 'next' ? 1 : -1\n  let scrollPosition = scrollTrack.scrollLeft\n  let currentOffset = scrollPosition % childWidth\n  currentOffset = currentOffset <= 50 ? 0 : currentOffset\n  currentOffset = childWidth - currentOffset < 1 ? 0 : currentOffset\n  if (currentOffset !== 0) {\n    if (direction === 'next') scrollPosition += (childWidth - currentOffset)\n    if (direction === 'previous') scrollPosition -= currentOffset\n  }\n  scrollPosition += childWidth * slidesToScroll * scrollDirectionMultiplier\n  return scrollPosition\n}\n\n// ARROW METHODS\nconst handleArrowClick = (direction, data) => {\n  const { fade } = getConfigForBreakpoint(data)\n  const { scrollTrack } = data.els\n  const scrollPosition = calculateScrollPosition(direction, data)\n  if (fade) {\n    scrollTrack.style.opacity = '0'\n    setTimeout(() => {\n      scrollTrack.scroll({\n        left: scrollPosition,\n        top: 0,\n        behavior: 'auto'\n      })\n      scrollTrack.style.opacity = '1'\n    }, 400)\n  } else {\n    scrollTrack.scroll({\n      left: scrollPosition,\n      top: 0,\n      behavior: 'smooth'\n    })\n  }\n}\n\nconst buildArrow = (direction, arrowHtml, data) => {\n  const { slidesToScroll } = getConfigForBreakpoint(data)\n  const arrow = document.createElement('button')\n  arrow.innerHTML = arrowHtml\n  arrow.classList.add('arrow', `${direction.toLowerCase()}-arrow`)\n  arrow.setAttribute('aria-controls', data.uniqueGalleryId)\n  arrow.setAttribute('aria-label', `Show ${direction} ${slidesToScroll} slides`)\n  return arrow\n}\n\nconst buildArrows = data => {\n  const { els, arrowHtml } = data\n  const { customArrows } = getConfigForBreakpoint(data)\n  const html = customArrows === '' ? '' : customArrows || arrowHtml\n  const nextArrow = buildArrow('next', html, data)\n  const previousArrow = buildArrow('previous', html, data)\n  data.els.arrows = {\n    next: nextArrow,\n    previous: previousArrow\n  }\n  els.gallery.prepend(nextArrow)\n  els.gallery.prepend(previousArrow)\n  nextArrow.addEventListener('click', () => handleArrowClick('next', data))\n  previousArrow.addEventListener('click', () => handleArrowClick('previous', data))\n}\n\nexport { buildArrows, handleArrowClick }\n","import { getConfigForBreakpoint, getChildWidthFromParent, addNamedEventListener } from './utils'\n\n/**\n * Module for optional Dots\n */\n\nconst updateActiveDot = data => {\n  const { slidesToScroll } = getConfigForBreakpoint(data)\n  const { scrollTrack, dots } = data.els\n  const childWidth = getChildWidthFromParent(data)\n  const slidePosIndex = Math.round(scrollTrack.scrollLeft / childWidth)\n  const activeIndex = Math.floor(slidePosIndex / slidesToScroll)\n  dots.forEach((dot, i) => dot.classList.toggle('active', i === activeIndex))\n}\n\nconst buildDots = data => {\n  const { scrollTrack, slides, scrollTrackWrapper } = data.els\n  const { slidesToScroll, slidesToShow } = getConfigForBreakpoint(data)\n\n  // Calculate dots needed considering both slidesToShow and slidesToScroll\n  const remainingSlides = slides.length - slidesToShow\n  const numDots = Math.ceil(remainingSlides / slidesToScroll) + 1\n\n  const dotContainer = document.createElement('div')\n  dotContainer.classList.add('flo-dots')\n\n  for (let i = 0; i < numDots; i++) {\n    const dot = document.createElement('button')\n    dot.classList.add('flo-dot')\n    const slideIndex = i * slidesToScroll + 1\n    const lastSlideInGroup = Math.min(slideIndex + slidesToShow - 1, slides.length)\n    dot.setAttribute('aria-label', `Go to slides ${slideIndex}-${lastSlideInGroup}`)\n    dotContainer.appendChild(dot)\n    dot.addEventListener('click', () => {\n      scrollTrack.scroll({\n        left: i * getChildWidthFromParent(data) * slidesToScroll,\n        top: 0,\n        behavior: 'smooth'\n      })\n    })\n  }\n\n  addNamedEventListener('scrollend', data, scrollTrack, () => updateActiveDot(data))\n  scrollTrackWrapper.appendChild(dotContainer)\n  data.els.dots = dotContainer.querySelectorAll('.flo-dot')\n  updateActiveDot(data)\n}\n\nexport { buildDots }\n","import {\n  debounce,\n  getConfigForBreakpoint,\n  addNamedEventListener,\n  removeNamedEventListener\n} from './modules/utils'\nimport { buildScrollbar } from './modules/scrollbar'\nimport { buildArrows } from './modules/arrows'\nimport { buildDots } from './modules/dots'\nimport { addClickDrag } from './modules/clickDrag'\n\n/**\n * floSlide Carousel Library V0.95\n * @example\n *\n * // BASIC\n * floSlide('.js-mcp-recs-horizontal-12345')\n *\n * // KITCHEN SINK\n * floSlide('.js-mcp-recs-horizontal-12345', {\n *   slidesToShow: 2,\n *   slidesToScroll: 2,\n *   fade: false,\n *   arrows: true,\n *   dots: true,\n *   scrollbar: true,\n *   clickDrag: false,\n *   customArrows: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path fill=\"#000000\" fill-rule=\"evenodd\" d=\"M14.5 18.5 21 12l-6.5-6.5-.707.707 5.293 5.293H3v1h16.087l-5.294 5.293.707.707Z\" clip-rule=\"evenodd\"/></svg>',\n *   responsive: {\n *     767: {\n *       slidesToShow: 4,\n *       slidesToScroll: 4\n *     },\n *     1169: {\n *       slidesToShow: 5,\n *       slidesToScroll: 5,\n *       scrollbar: false\n *     }\n *   }\n * })\n */\n\nclass floSlideCore {\n  constructor(selector, gallery, config) {\n    this.data = {\n      selector,\n      config: this.mergeDefaults(config),\n      els: {\n        gallery,\n        slides: []\n      },\n      eventListeners: [],\n      uniqueGalleryId: this.createUniqueGalleryId(),\n      arrowHtml:\n        '<div style=\"transform: rotate(-45deg);height:15px;width:15px;border-right:2px solid grey;border-bottom: 2px solid grey\"></div>'\n    }\n    this.init()\n  }\n\n  createUniqueGalleryId() {\n    const date = Date.now()\n    const id = `flo-gallery-${date}`\n    if (window.FloSlideData.instances) {\n      const instanceIndex = window.FloSlideData.instances.findIndex(\n        (instance) => {\n          return instance.data.uniqueGalleryId === id\n        }\n      )\n      if (instanceIndex > -1) {\n        return this.createUniqueGalleryId()\n      }\n    }\n    return id\n  }\n\n  mergeDefaults(config) {\n    const defaultConfig = {\n      slidesToShow: 3.25,\n      slidesToScroll: 1,\n      arrows: false,\n      fade: false,\n      scrollbar: true,\n      clickDrag: true,\n      dots: false,\n      customArrows: null,\n      hideInactiveArrows: true,\n      breakpointReinit: true,\n      responsive: {\n        // TODO: responsive default css not generating from this currently\n        // 600: {\n        //   slidesToShow: 1.5,\n        //   slidesToScroll: 1,\n        //   arrows: true,\n        //   dots: false\n        // },\n        // 1028: {\n        //   slidesToShow: 4,\n        //   slidesToScroll: 4\n        // }\n      }\n    }\n\n    const newConfig = { ...config }\n    newConfig.responsive = newConfig.responsive || {}\n    const baseConfig = { ...defaultConfig, ...newConfig }\n\n    // Ensure slidesToScroll doesn't exceed slidesToShow in base config\n    baseConfig.slidesToScroll = Math.min(baseConfig.slidesToScroll, baseConfig.slidesToShow)\n\n    Object.keys(baseConfig.responsive).forEach((breakpoint) => {\n      newConfig.responsive[breakpoint] = {\n        ...baseConfig,\n        ...newConfig.responsive[breakpoint]\n      }\n      // Ensure slidesToScroll doesn't exceed slidesToShow in responsive configs\n      newConfig.responsive[breakpoint].slidesToScroll = Math.min(\n        newConfig.responsive[breakpoint].slidesToScroll,\n        newConfig.responsive[breakpoint].slidesToShow\n      )\n    })\n    return { 0: baseConfig, ...newConfig.responsive }\n  }\n\n  getChildWidthFromParent(parent) {\n    const { slidesToShow } = getConfigForBreakpoint(this.data)\n    return parent.offsetWidth / slidesToShow\n  }\n\n  setArrowVisibility() {\n    const { hideInactiveArrows } = getConfigForBreakpoint(this.data)\n    const {\n      arrows: { previous, next },\n      firstSlide,\n      lastSlide\n    } = this.data.els\n    if (!hideInactiveArrows) return\n    const isFirstSlideVisible =\n      firstSlide.getAttribute('aria-hidden') === 'false'\n    const isLastSlideVisible =\n      lastSlide.getAttribute('aria-hidden') === 'false'\n    previous.style.visibility = isFirstSlideVisible ? 'hidden' : 'visible'\n    next.style.visibility = isLastSlideVisible ? 'hidden' : 'visible'\n    previous.setAttribute(\n      'aria-disabled',\n      `${isFirstSlideVisible ? 'true' : 'false'}`\n    )\n    next.setAttribute(\n      'aria-disabled',\n      `${isLastSlideVisible ? 'true' : 'false'}`\n    )\n  }\n\n  slideIsVisible(el, percentageVisible = 0.9) {\n    const rect = el.getBoundingClientRect()\n    const parentRect = el.parentElement.getBoundingClientRect()\n    const intersectionHeight = Math.max(\n      0,\n      Math.min(rect.bottom, parentRect.bottom) -\n      Math.max(rect.top, parentRect.top)\n    )\n    const intersectionWidth = Math.max(\n      0,\n      Math.min(rect.right, parentRect.right) -\n      Math.max(rect.left, parentRect.left)\n    )\n    const intersectionArea = intersectionHeight * intersectionWidth\n    const moduleArea = (rect.bottom - rect.top) * (rect.right - rect.left)\n    const boolean = intersectionArea >= percentageVisible * moduleArea\n    return boolean\n  }\n\n  setSlideADAVisibility() {\n    this.data.els.slides.forEach((slide, i) => {\n      if (this.slideIsVisible(slide)) {\n        slide.setAttribute('aria-hidden', 'false')\n        // slide.setAttribute('tabindex', '0')\n        slide.removeAttribute('tabindex')\n      } else {\n        slide.setAttribute('aria-hidden', 'true')\n        slide.setAttribute('tabindex', '-1')\n      }\n    })\n  }\n\n  setSlideCssVisibility() {\n    this.data.els.slides.forEach((slide) => {\n      if (!this.slideIsVisible(slide, 0.05)) slide.style.visibility = 'hidden'\n      if (this.slideIsVisible(slide, 0.05)) slide.style.visibility = 'visible'\n    })\n  }\n\n  manageElVisibility() {\n    const { arrows } = getConfigForBreakpoint(this.data)\n    const { slides, scrollTrack } = this.data.els\n    this.setSlideADAVisibility()\n    this.setSlideCssVisibility()\n    if (arrows) this.setArrowVisibility()\n    const debounceSlideAdaVis = debounce(\n      this.setSlideADAVisibility.bind(this),\n      100\n    )\n    const debouceSlideCssVis = debounce(\n      this.setSlideCssVisibility.bind(this),\n      200\n    )\n    const debounceSetArrowVis = debounce(() => {\n      this.setArrowVisibility()\n    }, 150)\n    addNamedEventListener('scroll', this.data, scrollTrack, () => {\n      slides.forEach((slide) => {\n        slide.style.visibility = 'visible'\n      })\n      debounceSlideAdaVis()\n      debouceSlideCssVis()\n      if (arrows) debounceSetArrowVis()\n    })\n  }\n\n  // BREAKPOINT REINIT\n  reinit() {\n    const {\n      data,\n      data: {\n        els,\n        els: { arrows, dots, scrollbar, scrollbarThumb, scrollTrack }\n      }\n    } = this\n    if (arrows) {\n      arrows.next.remove()\n      arrows.previous.remove()\n      delete els.arrows\n    }\n    if (dots) {\n      dots.forEach((dot) => dot.remove())\n      delete els.dots\n    }\n    if (scrollbar) {\n      scrollbar.remove()\n      delete els.scrollbar\n    }\n    if (scrollbarThumb) {\n      scrollbarThumb.remove()\n      delete els.scrollbarThumb\n    }\n    removeNamedEventListener('scroll', data)\n    removeNamedEventListener('scrollend', data)\n    this.buildElements()\n    setTimeout(() => {\n      this.manageElVisibility()\n      scrollTrack.scrollLeft = 1\n      scrollTrack.scrollLeft = 0\n    }, 250)\n  }\n\n  setBreakpointReinit() {\n    const debounceReinit = debounce((e) => this.reinit(), 350)\n    this.data.breakpoints.forEach((breakpoint) => {\n      const mediaQuery = window.matchMedia(`(min-width: ${breakpoint}px)`)\n      mediaQuery.addEventListener('change', debounceReinit)\n    })\n  }\n\n  // INIT METHODS\n  appendCssToHead() {\n    const { uniqueGalleryId, config } = this.data\n    const styleTag = document.createElement('style')\n    styleTag.id = `${uniqueGalleryId}-style`\n    const string = Object.entries(config)\n      .map(([breakpoint, settings]) =>\n        breakpoint === '0'\n          ? `.${uniqueGalleryId} .flo-gallery-track > * { width: ${100 /\n          settings.slidesToShow}%; }`\n          : `@media(min-width: ${breakpoint}px) { .${uniqueGalleryId} .flo-gallery-track > * { width: ${100 /\n          settings.slidesToShow}%; } }`\n      )\n      .join(' ')\n    styleTag.textContent = string\n    document.head.appendChild(styleTag)\n  }\n\n  buildElements() {\n    const {\n      arrows,\n      scrollbar,\n      dots,\n      clickDrag,\n      breakpointReinit\n    } = getConfigForBreakpoint(this.data)\n    const {\n      els: { gallery, slides },\n      uniqueGalleryId\n    } = this.data\n    const isFirstInit = !this.data.els.scrollTrack\n    if (isFirstInit) {\n      // Create required elements\n      const scrollTrack = document.createElement('div')\n      const scrollTrackWrapper = document.createElement('div')\n      scrollTrack.append(...this.data.els.slides)\n      scrollTrackWrapper.append(scrollTrack)\n      gallery.insertAdjacentElement('afterbegin', scrollTrackWrapper)\n      this.data.els.scrollTrack = scrollTrack\n      this.data.els.scrollTrackWrapper = scrollTrackWrapper\n      scrollTrack.id = uniqueGalleryId\n      scrollTrack.classList.add('flo-gallery-track')\n      scrollTrackWrapper.classList.add('flo-gallery-track-wrapper')\n      slides.forEach((slide, i) => {\n        slide.classList.add('flo-slide')\n      })\n      this.data.breakpoints = Object.keys(this.data.config)\n      if (breakpointReinit && this.data.breakpoints.length > 1) {\n        this.setBreakpointReinit()\n      }\n    }\n    // Create Optional Elements\n    if (clickDrag) addClickDrag(this.data)\n    if (scrollbar) setTimeout(() => buildScrollbar(this.data), 1000)\n    if (arrows) buildArrows(this.data)\n    if (dots) buildDots(this.data)\n  }\n\n  init() {\n    if (!this.data.els.gallery) {\n      return console.warn(\n        `floSlide: No elements found matching selector \"${this.data.selector}\".`\n      )\n    }\n    // Adds attributes to the root gallery for ADA compliance\n    this.data.els.gallery.setAttribute('role', 'region')\n    this.data.els.gallery.setAttribute('aria-roledescription', 'carousel')\n    this.data.els.gallery.setAttribute('aria-label', 'Marketing')\n\n    this.data.els.gallery.classList.add(\n      'flo-gallery',\n      this.data.uniqueGalleryId\n    )\n    this.data.els.slides = [...this.data.els.gallery.children]\n    this.data.els.firstSlide = this.data.els.slides[0]\n    this.data.els.lastSlide = this.data.els.slides[\n      this.data.els.slides.length - 1\n    ]\n    this.appendCssToHead()\n    this.buildElements()\n    setTimeout(() => {\n      this.manageElVisibility()\n      this.data.els.gallery.classList.add('flo-slider-loaded')\n    }, 1000)\n  }\n}\n\n/**\n * Main function, also allows for multiple gallery inits with one selector.\n */\nconst FloSlide = (selector, config = {}) => {\n  const galleries = document.querySelectorAll(selector)\n  if (galleries.length === 0) return\n  window.FloSlideData = window.FloSlideData || {}\n  window.FloSlideData.instances = window.FloSlideData.instances || []\n\n  galleries.forEach((currentGalleryElement) => {\n    if (currentGalleryElement.dataset.floSlideInitialized === 'true') {\n      return\n    }\n    const instanceExistsForElement = window.FloSlideData.instances.some(\n      (instance) => instance.galleryDomElement === currentGalleryElement\n    )\n\n    if (instanceExistsForElement) {\n      currentGalleryElement.dataset.floSlideInitialized = 'true'\n      return\n    }\n    currentGalleryElement.dataset.floSlideInitialized = 'true'\n\n    const newInstance = new floSlideCore(selector, currentGalleryElement, config)\n    window.FloSlideData.instances.push(newInstance)\n  })\n}\n\nexport default FloSlide\n"],"names":["startX","scrollLeft","clickStartTime","addNamedEventListener","eventName","data","element","handler","addEventListener","eventListeners","push","removeNamedEventListener","forEach","_ref","removeEventListener","debounce","func","timeout","wait","arguments","length","undefined","immediate","_this","this","_len","args","Array","_key","callNow","clearTimeout","setTimeout","apply","getConfigForBreakpoint","key","Math","max","_toConsumableArray","Object","keys","config","filter","breakpoint","window","innerWidth","currentBreakpoint","getChildWidthFromParent","slidesToShow","els","scrollTrack","offsetWidth","setScrollbarPosition","scrollbarThumb","scrollTrackWidth","scrollWidth","scrollTrackClientWidth","clientWidth","thumbWidth","scrollTrackPosition","scrollableWidth","style","width","concat","round","setAttribute","left","buildScrollbar","uniqueGalleryId","_data$els2","scrollTrackWrapper","scrollbar","document","createElement","classList","add","appendChild","debounceSetSBPos","_data$els","e","childWidth","min","addScrollbarKeyboardControl","startCursorPos","containerOffsetLeft","scrollbarScrollableWidth","gallery","isDragging","onMouseMove","preventDefault","percentageScrolled","pageX","target","getBoundingClientRect","offsetLeft","remove","addScrollbarMouseControl","handleArrowClick","direction","fade","scrollPosition","slidesToScroll","scrollDirectionMultiplier","currentOffset","calculateScrollPosition","opacity","scroll","top","behavior","buildArrow","arrowHtml","arrow","innerHTML","toLowerCase","updateActiveDot","dots","slidePosIndex","activeIndex","floor","dot","i","toggle","isClick","handleMouseUpAndLeave","button","Date","now","clickableParent","closest","tagName","classNames","click","includes","handleClick","addClickDrag","handleMouseDown","walk","move","floSlideCore","_createClass","selector","_classCallCheck","mergeDefaults","slides","createUniqueGalleryId","init","value","date","id","FloSlideData","instances","findIndex","instance","newConfig","_objectSpread","responsive","baseConfig","arrows","clickDrag","customArrows","hideInactiveArrows","breakpointReinit","parent","_this$data$els","_this$data$els$arrows","previous","next","firstSlide","lastSlide","isFirstSlideVisible","getAttribute","isLastSlideVisible","visibility","el","percentageVisible","rect","parentRect","parentElement","bottom","right","slide","slideIsVisible","removeAttribute","_this2","_this3","_this$data$els2","setSlideADAVisibility","setSlideCssVisibility","setArrowVisibility","debounceSlideAdaVis","bind","debouceSlideCssVis","debounceSetArrowVis","_this4","_this$data","_this$data$els3","buildElements","manageElVisibility","_this5","debounceReinit","reinit","breakpoints","matchMedia","_this$data2","styleTag","string","entries","map","_ref2","_slicedToArray","settings","join","textContent","head","html","nextArrow","previousArrow","_this6","_getConfigForBreakpoi4","_this$data3","_this$data3$els","append","insertAdjacentElement","setBreakpointReinit","prepend","_getConfigForBreakpoi2","remainingSlides","numDots","ceil","dotContainer","_loop","slideIndex","lastSlideInGroup","querySelectorAll","buildDots","_this7","console","warn","children","appendCssToHead","galleries","currentGalleryElement","dataset","floSlideInitialized","some","galleryDomElement","newInstance"],"mappings":";;;;;0xFAAA,ICEIA,EAAQC,EAAYC,EDFlBC,EAAwB,SAACC,EAAWC,EAAMC,EAASC,GACvDD,EAAQE,iBAAiBJ,EAAWG,GACpCF,EAAKI,eAAeL,GAAaC,EAAKI,eAAeL,IAAc,GACnEC,EAAKI,eAAeL,GAAWM,KAAK,CAAEJ,QAAAA,EAASC,QAAAA,GACjD,EAEMI,EAA2B,SAACP,EAAWC,GACvCA,EAAKI,eAAeL,KACtBC,EAAKI,eAAeL,GAAWQ,QAAQ,SAAAC,GAA0B,IAAvBP,EAAOO,EAAPP,QAASC,EAAOM,EAAPN,QACjDD,EAAQQ,oBAAoBV,EAAWG,EACzC,UACOF,EAAKI,eAAeL,GAE/B,EAEMW,EAAW,SAACC,GAAwC,IACpDC,EADkBC,EAAIC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,IAAKG,EAASH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAE3C,OAAO,WAAmB,IAAA,IAAAI,EAAAC,KAAAC,EAAAN,UAAAC,OAANM,EAAI,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJF,EAAIE,GAAAT,UAAAS,GACtB,IAIMC,EAAUP,IAAcL,EAC9Ba,aAAab,GACbA,EAAUc,WANI,WACZd,EAAU,KACLK,GAAWN,EAAKgB,MAAMT,EAAMG,EACnC,EAG4BR,GACxBW,GAASb,EAAKgB,MAAMR,KAAME,EAChC,CACF,EAEMO,EAAyB,SAAA5B,GAC7B,IAAM6B,EAAMC,KAAKC,IAAGJ,MAARG,KAAIE,EAAQC,OAAOC,KAAKlC,EAAKmC,QAAQC,OAAO,SAAAC,GAAU,OAAIC,OAAOC,YAAcF,CAAU,KAErG,OADArC,EAAKwC,kBAAoBX,EAClB7B,EAAKmC,OAAON,EACrB,EAEMY,EAA0B,SAACzC,GAC/B,IAAQ0C,EAAiBd,EAAuB5B,GAAxC0C,aACR,OAAO1C,EAAK2C,IAAIC,YAAYC,YAAcH,CAC5C,EEWMI,EAAuB,SAAAH,GAC3B,IAAQC,EAAgCD,EAAhCC,YAAaG,EAAmBJ,EAAnBI,eACfC,EAAmBJ,EAAYK,YAC/BC,EAAyBN,EAAYO,YAErCC,EAAaF,EAAyBF,EACtCK,EAFaT,EAAYhD,YAEWoD,EAAmBE,GACvDI,EAAkBJ,GAA0B,EAAIE,GACtDL,EAAeQ,MAAMC,SAAKC,OAAM3B,KAAK4B,MAAmB,IAAbN,GAAiB,KAC5DL,EAAeY,aAAa,gBAAe,GAAAF,OAAK3B,KAAK4B,MAA4B,IAAtBL,KAC3DN,EAAeQ,MAAMK,QAAIH,OAAM3B,KAAK4B,MAAML,EAAsBC,GAAgB,KAClF,EAEMO,EAAiB,SAAC7D,GACtB,IAAQ8D,EAAmE9D,EAAnE8D,gBAAiBnB,EAAkD3C,EAAlD2C,IAAGoB,EAA+C/D,EAA7C2C,IAAOC,EAAWmB,EAAXnB,YAAaoB,EAAkBD,EAAlBC,mBAC5CC,EAAYC,SAASC,cAAc,OACzCF,EAAUG,UAAUC,IAAI,iBACxBJ,EAAUN,aAAa,aAAc,wBACrCM,EAAUN,aAAa,OAAQ,aAC/BM,EAAUN,aAAa,gBAAiBG,GACxCG,EAAUN,aAAa,mBAAoB,cAE3C,IAAMZ,EAAiBmB,SAASC,cAAc,OAC9CpB,EAAeqB,UAAUC,IAAI,uBAC7BtB,EAAeY,aAAa,gBAAiB,KAC7CZ,EAAeY,aAAa,gBAAiB,OAC7CZ,EAAeY,aAAa,gBAAiB,KAC7CZ,EAAeY,aAAa,WAAY,KAExCM,EAAUK,YAAYvB,GACtBiB,EAAmBM,YAAYL,GAC/BtB,EAAIsB,UAAYA,EAChBtB,EAAII,eAAiBA,EAErBD,EAAqBH,GACrB,IAAM4B,EAAmB7D,EAAS,WAAA,OAAMoC,EAAqBH,EAAI,EAAE,GAAG,GACtE7C,EAAsB,SAAUE,EAAM4C,EAAa2B,GA7CjB,SAAAvE,GAClC,IAAAwE,EAAwCxE,EAAK2C,IAArCC,EAAW4B,EAAX5B,YAA2B4B,EAAdzB,eACN5C,iBAAiB,UAAW,SAAAsE,GACzC,IAAMC,EAAajC,EAAwBzC,GAC7B,cAAVyE,EAAE5C,MAAqBe,EAAYhD,WAAakC,KAAKC,IAAIa,EAAYhD,WAAa8E,EAAY,IACpF,eAAVD,EAAE5C,MAAsBe,EAAYhD,WAAakC,KAAK6C,IAAI/B,EAAYhD,WAAa8E,EAAY9B,EAAYK,YAAcL,EAAYO,aAC3I,EACF,CAuCEyB,CAA4B5E,GAjFG,SAAA2C,GAC/B,IAEIkC,EAAgBC,EAAqBC,EAFjCnC,EAAoDD,EAApDC,YAAaG,EAAuCJ,EAAvCI,eAAgBkB,EAAuBtB,EAAvBsB,UAAWe,EAAYrC,EAAZqC,QAC5CC,GAAa,EAaXC,EAAcxE,EAAS,SAAC+D,GAC5B,GAAKQ,EAAL,CACAR,EAAEU,iBACF,IAEIC,GAFiBX,EAAEY,MAAQP,EACGD,GACGE,EACjCK,EAAqB,IAAGA,EAAqB,GAC7CA,EAAqB,IAAGA,EAAqB,GACjDxC,EAAYhD,WAAawF,GAAsBxC,EAAYK,YAAcL,EAAYO,YAPpE,CAQnB,EAAG,IAAI,GAMPJ,EAAe5C,iBAAiB,YAzBZ,SAACsE,GACfA,EAAEa,SAAWvC,IACfkC,GAAa,EACbH,EAAsBb,EAAUsB,wBAAwB3B,KACxDmB,EAA2Bd,EAAUpB,YAAcE,EAAeF,YAClEgC,EAAiBJ,EAAEY,MAAQP,EAAsB/B,EAAeyC,WAChER,EAAQZ,UAAUC,IAAI,aAE1B,GAkBAH,SAAS/D,iBAAiB,YAAa+E,GACvChB,SAAS/D,iBAAiB,UANR,SAACsE,GACjBQ,GAAa,EACbtC,EAAIqC,QAAQZ,UAAUqB,OAAO,YAC/B,EAIF,CAiDEC,CAAyB/C,EAC3B,EChEMgD,EAAmB,SAACC,EAAW5F,GACnC,IAAQ6F,EAASjE,EAAuB5B,GAAhC6F,KACAjD,EAAgB5C,EAAK2C,IAArBC,YACFkD,EArBwB,SAACF,EAAW5F,GAC1C,IAAQ+F,EAAmBnE,EAAuB5B,GAA1C+F,eACAnD,EAAgB5C,EAAK2C,IAArBC,YACF8B,EAAajC,EAAwBzC,GACrCgG,EAA0C,SAAdJ,EAAuB,GAAI,EACzDE,EAAiBlD,EAAYhD,WAC7BqG,EAAgBH,EAAiBpB,EAQrC,OALsB,KADtBuB,EAAgBvB,GADhBuB,EAAgBA,GAAiB,GAAK,EAAIA,GACG,EAAI,EAAIA,KAEjC,SAAdL,IAAsBE,GAAmBpB,EAAauB,GACxC,aAAdL,IAA0BE,GAAkBG,IAElDH,EAAkBpB,EAAaqB,EAAiBC,CAElD,CAMyBE,CAAwBN,EAAW5F,GACtD6F,GACFjD,EAAYW,MAAM4C,QAAU,IAC5BzE,WAAW,WACTkB,EAAYwD,OAAO,CACjBxC,KAAMkC,EACNO,IAAK,EACLC,SAAU,SAEZ1D,EAAYW,MAAM4C,QAAU,GAC9B,EAAG,MAEHvD,EAAYwD,OAAO,CACjBxC,KAAMkC,EACNO,IAAK,EACLC,SAAU,UAGhB,EAEMC,EAAa,SAACX,EAAWY,EAAWxG,GACxC,IAAQ+F,EAAmBnE,EAAuB5B,GAA1C+F,eACFU,EAAQvC,SAASC,cAAc,UAKrC,OAJAsC,EAAMC,UAAYF,EAClBC,EAAMrC,UAAUC,IAAI,QAAO,GAAAZ,OAAKmC,EAAUe,yBAC1CF,EAAM9C,aAAa,gBAAiB3D,EAAK8D,iBACzC2C,EAAM9C,aAAa,aAAY,QAAAF,OAAUmC,EAAS,KAAAnC,OAAIsC,cAC/CU,CACT,ECjDMG,EAAkB,SAAA5G,GACtB,IAAQ+F,EAAmBnE,EAAuB5B,GAA1C+F,eACRvB,EAA8BxE,EAAK2C,IAA3BC,EAAW4B,EAAX5B,YAAaiE,EAAIrC,EAAJqC,KACfnC,EAAajC,EAAwBzC,GACrC8G,EAAgBhF,KAAK4B,MAAMd,EAAYhD,WAAa8E,GACpDqC,EAAcjF,KAAKkF,MAAMF,EAAgBf,GAC/Cc,EAAKtG,QAAQ,SAAC0G,EAAKC,GAAC,OAAKD,EAAI7C,UAAU+C,OAAO,SAAUD,IAAMH,EAAY,EAC5E,EHbI9B,GAAa,EACbmC,GAAU,EAWRC,EAAwB,SAAA5C,GAC5B,GAAiB,IAAbA,EAAE6C,OAAN,CACArC,GAAa,EACbmC,EAAUG,KAAKC,MAAQ3H,EAAiB,IACxC,IAAM4H,EAAkBhD,EAAEa,OAAOoC,QAAQ,aACnCC,EAAUlD,EAAEa,OAAOqC,QAAQhB,cAC3BiB,EAAU5F,EAAOyC,EAAEa,OAAOlB,WAC3BgD,EAEMA,GAAuB,MAAZO,EACpBlD,EAAEa,OAAOuC,QACAT,GAAuB,WAAZO,EACfC,EAAWE,SAAS,sBAAwBrD,EAAEa,OAAOuC,QACjDT,GAAWK,GACpBA,EAAgBI,QANhBpD,EAAEU,iBAQJtF,EAAiB,IAfG,CAgBtB,EAUMkI,EAAc,SAAAtD,GAAO2C,GAAU,CAAM,EAErCY,EAAe,SAAChI,GACpB,IAAQ4C,EAAgB5C,EAAK2C,IAArBC,YACRA,EAAYzC,iBAAiB,QAAS4H,GACtCnF,EAAYzC,iBAAiB,YAAa,SAACsE,GAAC,OAxCtB,SAACA,EAAG7B,GACT,IAAb6B,EAAE6C,SACNzH,EAAiB0H,KAAKC,MACtBvC,GAAa,EACbtF,EAAS8E,EAAEY,MAAQzC,EAAY4C,WAC/B5F,EAAagD,EAAYhD,WAC3B,CAkCmDqI,CAAgBxD,EAAG7B,EAAY,GAChFA,EAAYzC,iBAAiB,YAAa,SAACsE,GAAC,OAdjC,SAACA,EAAG7B,GACf,GAAKqC,EAAL,CACAR,EAAEU,iBACF,IACM+C,EADIzD,EAAEY,MAAQzC,EAAY4C,WACf7F,EACjBiD,EAAYhD,WAAaA,EAAasI,CAJrB,CAKnB,CAQmDC,CAAK1D,EAAG7B,EAAY,GACrEA,EAAYzC,iBAAiB,UAAWkH,GACxCzE,EAAYzC,iBAAiB,aAAckH,EAC7C,EINMe,EAAY,WAef,OAAAC,EAdD,SAAAD,EAAYE,EAAUtD,EAAS7C,gGAAQoG,MAAAH,GACrCjH,KAAKnB,KAAO,CACVsI,SAAAA,EACAnG,OAAQhB,KAAKqH,cAAcrG,GAC3BQ,IAAK,CACHqC,QAAAA,EACAyD,OAAQ,IAEVrI,eAAgB,GAChB0D,gBAAiB3C,KAAKuH,wBACtBlC,UACE,kIAEJrF,KAAKwH,MACP,EAAC,CAAA,CAAA9G,IAAA,wBAAA+G,MAED,WACE,IAAMC,EAAOtB,KAAKC,MACZsB,EAAE,eAAArF,OAAkBoF,GAC1B,GAAIvG,OAAOyG,aAAaC,WACA1G,OAAOyG,aAAaC,UAAUC,UAClD,SAACC,GACC,OAAOA,EAASlJ,KAAK8D,kBAAoBgF,CAC3C,IAEkB,EAClB,OAAO3H,KAAKuH,wBAGhB,OAAOI,CACT,GAAC,CAAAjH,IAAA,gBAAA+G,MAED,SAAczG,GACZ,IA0BMgH,EAASC,EAAA,CAAA,EAAQjH,GACvBgH,EAAUE,WAAaF,EAAUE,YAAc,CAAA,EAC/C,IAAMC,EAAUF,EAAAA,EAAA,CAAA,EA5BM,CACpB1G,aAAc,KACdqD,eAAgB,EAChBwD,QAAQ,EACR1D,MAAM,EACN5B,WAAW,EACXuF,WAAW,EACX3C,MAAM,EACN4C,aAAc,KACdC,oBAAoB,EACpBC,kBAAkB,EAClBN,WAAY,CAWV,IAMsCF,GAgB1C,OAbAG,EAAWvD,eAAiBjE,KAAK6C,IAAI2E,EAAWvD,eAAgBuD,EAAW5G,cAE3ET,OAAOC,KAAKoH,EAAWD,YAAY9I,QAAQ,SAAC8B,GAC1C8G,EAAUE,WAAWhH,GAAW+G,EAAAA,EAAA,GAC3BE,GACAH,EAAUE,WAAWhH,IAG1B8G,EAAUE,WAAWhH,GAAY0D,eAAiBjE,KAAK6C,IACrDwE,EAAUE,WAAWhH,GAAY0D,eACjCoD,EAAUE,WAAWhH,GAAYK,aAErC,GACA0G,EAAA,CAAS,EAAGE,GAAeH,EAAUE,WACvC,GAAC,CAAAxH,IAAA,0BAAA+G,MAED,SAAwBgB,GACtB,IAAQlH,EAAiBd,EAAuBT,KAAKnB,MAA7C0C,aACR,OAAOkH,EAAO/G,YAAcH,CAC9B,GAAC,CAAAb,IAAA,qBAAA+G,MAED,WACE,IAAQc,EAAuB9H,EAAuBT,KAAKnB,MAAnD0J,mBACRG,EAII1I,KAAKnB,KAAK2C,IAAGmH,EAAAD,EAHfN,OAAUQ,EAAQD,EAARC,SAAUC,EAAIF,EAAJE,KACpBC,EAAUJ,EAAVI,WACAC,EAASL,EAATK,UAEF,GAAKR,EAAL,CACA,IAAMS,EACuC,UAA3CF,EAAWG,aAAa,eACpBC,EACsC,UAA1CH,EAAUE,aAAa,eACzBL,EAASxG,MAAM+G,WAAaH,EAAsB,SAAW,UAC7DH,EAAKzG,MAAM+G,WAAaD,EAAqB,SAAW,UACxDN,EAASpG,aACP,gBAAe,GAAAF,OACZ0G,EAAsB,OAAS,UAEpCH,EAAKrG,aACH,gBAAe,GAAAF,OACZ4G,EAAqB,OAAS,SAbV,CAe3B,GAAC,CAAAxI,IAAA,iBAAA+G,MAED,SAAe2B,GAA6B,IAAzBC,EAAiB1J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC/B2J,EAAOF,EAAGhF,wBACVmF,EAAaH,EAAGI,cAAcpF,wBAcpC,OAb2BzD,KAAKC,IAC9B,EACAD,KAAK6C,IAAI8F,EAAKG,OAAQF,EAAWE,QACjC9I,KAAKC,IAAI0I,EAAKpE,IAAKqE,EAAWrE,MAENvE,KAAKC,IAC7B,EACAD,KAAK6C,IAAI8F,EAAKI,MAAOH,EAAWG,OAChC/I,KAAKC,IAAI0I,EAAK7G,KAAM8G,EAAW9G,QAIG4G,IADhBC,EAAKG,OAASH,EAAKpE,MAAQoE,EAAKI,MAAQJ,EAAK7G,MAGnE,GAAC,CAAA/B,IAAA,wBAAA+G,MAED,WAAwB,IAAA1H,EAAAC,KACtBA,KAAKnB,KAAK2C,IAAI8F,OAAOlI,QAAQ,SAACuK,EAAO5D,GAC/BhG,EAAK6J,eAAeD,IACtBA,EAAMnH,aAAa,cAAe,SAElCmH,EAAME,gBAAgB,cAEtBF,EAAMnH,aAAa,cAAe,QAClCmH,EAAMnH,aAAa,WAAY,MAEnC,EACF,GAAC,CAAA9B,IAAA,wBAAA+G,MAED,WAAwB,IAAAqC,EAAA9J,KACtBA,KAAKnB,KAAK2C,IAAI8F,OAAOlI,QAAQ,SAACuK,GACvBG,EAAKF,eAAeD,EAAO,OAAOA,EAAMvH,MAAM+G,WAAa,UAC5DW,EAAKF,eAAeD,EAAO,OAAOA,EAAMvH,MAAM+G,WAAa,UACjE,EACF,GAAC,CAAAzI,IAAA,qBAAA+G,MAED,WAAqB,IAAAsC,EAAA/J,KACXoI,EAAW3H,EAAuBT,KAAKnB,MAAvCuJ,OACR4B,EAAgChK,KAAKnB,KAAK2C,IAAlC8F,EAAM0C,EAAN1C,OAAQ7F,EAAWuI,EAAXvI,YAChBzB,KAAKiK,wBACLjK,KAAKkK,wBACD9B,GAAQpI,KAAKmK,qBACjB,IAAMC,EAAsB7K,EAC1BS,KAAKiK,sBAAsBI,KAAKrK,MAChC,KAEIsK,EAAqB/K,EACzBS,KAAKkK,sBAAsBG,KAAKrK,MAChC,KAEIuK,EAAsBhL,EAAS,WACnCwK,EAAKI,oBACP,EAAG,KACHxL,EAAsB,SAAUqB,KAAKnB,KAAM4C,EAAa,WACtD6F,EAAOlI,QAAQ,SAACuK,GACdA,EAAMvH,MAAM+G,WAAa,SAC3B,GACAiB,IACAE,IACIlC,GAAQmC,GACd,EACF,GAEA,CAAA7J,IAAA,SAAA+G,MACA,WAAS,IAAA+C,EAAAxK,KAELnB,EAKEmB,KALFnB,KAAI4L,EAKFzK,KAJFnB,KACE2C,EAAGiJ,EAAHjJ,IAAGkJ,EAAAD,EACHjJ,IAAO4G,EAAMsC,EAANtC,OAAQ1C,EAAIgF,EAAJhF,KAAM5C,EAAS4H,EAAT5H,UAAWlB,EAAc8I,EAAd9I,eAAgBH,EAAWiJ,EAAXjJ,YAGhD2G,IACFA,EAAOS,KAAKvE,SACZ8D,EAAOQ,SAAStE,gBACT9C,EAAI4G,QAET1C,IACFA,EAAKtG,QAAQ,SAAC0G,GAAG,OAAKA,EAAIxB,QAAQ,UAC3B9C,EAAIkE,MAET5C,IACFA,EAAUwB,gBACH9C,EAAIsB,WAETlB,IACFA,EAAe0C,gBACR9C,EAAII,gBAEbzC,EAAyB,SAAUN,GACnCM,EAAyB,YAAaN,GACtCmB,KAAK2K,gBACLpK,WAAW,WACTiK,EAAKI,qBACLnJ,EAAYhD,WAAa,EACzBgD,EAAYhD,WAAa,CAC3B,EAAG,IACL,GAAC,CAAAiC,IAAA,sBAAA+G,MAED,WAAsB,IAAAoD,EAAA7K,KACd8K,EAAiBvL,EAAS,SAAC+D,GAAC,OAAKuH,EAAKE,QAAQ,EAAE,KACtD/K,KAAKnB,KAAKmM,YAAY5L,QAAQ,SAAC8B,GACVC,OAAO8J,0BAAU3I,OAAgBpB,EAAU,QACnDlC,iBAAiB,SAAU8L,EACxC,EACF,GAEA,CAAApK,IAAA,kBAAA+G,MACA,WACE,IAAAyD,EAAoClL,KAAKnB,KAAjC8D,EAAeuI,EAAfvI,gBAAiB3B,EAAMkK,EAANlK,OACnBmK,EAAWpI,SAASC,cAAc,SACxCmI,EAASxD,GAAE,GAAArF,OAAMK,EAAe,UAChC,IAAMyI,EAAStK,OAAOuK,QAAQrK,GAC3BsK,IAAI,SAAAjM,GAAA,IAAAkM,EAAAC,EAAAnM,EAAA,GAAE6B,EAAUqK,EAAA,GAAEE,EAAQF,EAAA,GAAA,MACV,MAAfrK,EAAkB,IAAAoB,OACVK,EAAe,qCAAAL,OAAoC,IACzDmJ,EAASlK,aAAY,QAAA,qBAAAe,OACEpB,EAAU,WAAAoB,OAAUK,EAAe,qCAAAL,OAAoC,IAC9FmJ,EAASlK,aAAY,SAAQ,GAEhCmK,KAAK,KACRP,EAASQ,YAAcP,EACvBrI,SAAS6I,KAAKzI,YAAYgI,EAC5B,GAAC,CAAAzK,IAAA,gBAAA+G,MAED,WAAgB,IF/NE5I,EACV2C,EAAK6D,EACLiD,EACFuD,EACAC,EACAC,EE0NUC,EAAAhM,KACdiM,EAMIxL,EAAuBT,KAAKnB,MAL9BuJ,EAAM6D,EAAN7D,OACAtF,EAASmJ,EAATnJ,UACA4C,EAAIuG,EAAJvG,KACA2C,EAAS4D,EAAT5D,UACAG,EAAgByD,EAAhBzD,iBAEF0D,EAGIlM,KAAKnB,KAAIsN,EAAAD,EAFX1K,IAAOqC,EAAOsI,EAAPtI,QAASyD,EAAM6E,EAAN7E,OAChB3E,EAAeuJ,EAAfvJ,gBAGF,IADqB3C,KAAKnB,KAAK2C,IAAIC,YAClB,CAEf,IAAMA,EAAcsB,SAASC,cAAc,OACrCH,EAAqBE,SAASC,cAAc,OAClDvB,EAAY2K,OAAM5L,MAAlBiB,EAAWZ,EAAWb,KAAKnB,KAAK2C,IAAI8F,SACpCzE,EAAmBuJ,OAAO3K,GAC1BoC,EAAQwI,sBAAsB,aAAcxJ,GAC5C7C,KAAKnB,KAAK2C,IAAIC,YAAcA,EAC5BzB,KAAKnB,KAAK2C,IAAIqB,mBAAqBA,EACnCpB,EAAYkG,GAAKhF,EACjBlB,EAAYwB,UAAUC,IAAI,qBAC1BL,EAAmBI,UAAUC,IAAI,6BACjCoE,EAAOlI,QAAQ,SAACuK,EAAO5D,GACrB4D,EAAM1G,UAAUC,IAAI,YACtB,GACAlD,KAAKnB,KAAKmM,YAAclK,OAAOC,KAAKf,KAAKnB,KAAKmC,QAC1CwH,GAAoBxI,KAAKnB,KAAKmM,YAAYpL,OAAS,GACrDI,KAAKsM,qBAET,CAEIjE,GAAWxB,EAAa7G,KAAKnB,MAC7BiE,GAAWvC,WAAW,WAAA,OAAMmC,EAAesJ,EAAKnN,KAAK,EAAE,KACvDuJ,IFnQYvJ,EEmQQmB,KAAKnB,KFlQvB2C,EAAmB3C,EAAnB2C,IAAK6D,EAAcxG,EAAdwG,UACLiD,EAAiB7H,EAAuB5B,GAAxCyJ,aAEFwD,EAAY1G,EAAW,OADvByG,EAAwB,KAAjBvD,EAAsB,GAAKA,GAAgBjD,EACbxG,GACrCkN,EAAgB3G,EAAW,WAAYyG,EAAMhN,GACnDA,EAAK2C,IAAI4G,OAAS,CAChBS,KAAMiD,EACNlD,SAAUmD,GAEZvK,EAAIqC,QAAQ0I,QAAQT,GACpBtK,EAAIqC,QAAQ0I,QAAQR,GACpBD,EAAU9M,iBAAiB,QAAS,WAAA,OAAMwF,EAAiB,OAAQ3F,EAAK,GACxEkN,EAAc/M,iBAAiB,QAAS,WAAA,OAAMwF,EAAiB,WAAY3F,EAAK,IEuP1E6G,GD9SU,SAAA7G,GAChB,IAAA+D,EAAoD/D,EAAK2C,IAAjDC,EAAWmB,EAAXnB,YAAa6F,EAAM1E,EAAN0E,OAAQzE,EAAkBD,EAAlBC,mBAC7B2J,EAAyC/L,EAAuB5B,GAAxD+F,EAAc4H,EAAd5H,eAAgBrD,EAAYiL,EAAZjL,aAGlBkL,EAAkBnF,EAAO1H,OAAS2B,EAClCmL,EAAU/L,KAAKgM,KAAKF,EAAkB7H,GAAkB,EAExDgI,EAAe7J,SAASC,cAAc,OAC5C4J,EAAa3J,UAAUC,IAAI,YAE3B,IAFsC,IAAA2J,EAAA,SAAA9G,GAGpC,IAAMD,EAAM/C,SAASC,cAAc,UACnC8C,EAAI7C,UAAUC,IAAI,WAClB,IAAM4J,EAAa/G,EAAInB,EAAiB,EAClCmI,EAAmBpM,KAAK6C,IAAIsJ,EAAavL,EAAe,EAAG+F,EAAO1H,QACxEkG,EAAItD,aAAa,aAAY,gBAAAF,OAAkBwK,EAAU,KAAAxK,OAAIyK,IAC7DH,EAAazJ,YAAY2C,GACzBA,EAAI9G,iBAAiB,QAAS,WAC5ByC,EAAYwD,OAAO,CACjBxC,KAAMsD,EAAIzE,EAAwBzC,GAAQ+F,EAC1CM,IAAK,EACLC,SAAU,UAEd,EACF,EAdSY,EAAI,EAAGA,EAAI2G,EAAS3G,IAAG8G,EAAA9G,GAgBhCpH,EAAsB,YAAaE,EAAM4C,EAAa,WAAA,OAAMgE,EAAgB5G,EAAK,GACjFgE,EAAmBM,YAAYyJ,GAC/B/N,EAAK2C,IAAIkE,KAAOkH,EAAaI,iBAAiB,YAC9CvH,EAAgB5G,EAClB,CC+QcoO,CAAUjN,KAAKnB,KAC3B,GAAC,CAAA6B,IAAA,OAAA+G,MAED,WAAO,IAAAyF,EAAAlN,KACL,IAAKA,KAAKnB,KAAK2C,IAAIqC,QACjB,OAAOsJ,QAAQC,KAAI,kDAAA9K,OACiCtC,KAAKnB,KAAKsI,SAAQ,OAIxEnH,KAAKnB,KAAK2C,IAAIqC,QAAQrB,aAAa,OAAQ,UAC3CxC,KAAKnB,KAAK2C,IAAIqC,QAAQrB,aAAa,uBAAwB,YAC3DxC,KAAKnB,KAAK2C,IAAIqC,QAAQrB,aAAa,aAAc,aAEjDxC,KAAKnB,KAAK2C,IAAIqC,QAAQZ,UAAUC,IAC9B,cACAlD,KAAKnB,KAAK8D,iBAEZ3C,KAAKnB,KAAK2C,IAAI8F,OAAMzG,EAAOb,KAAKnB,KAAK2C,IAAIqC,QAAQwJ,UACjDrN,KAAKnB,KAAK2C,IAAIsH,WAAa9I,KAAKnB,KAAK2C,IAAI8F,OAAO,GAChDtH,KAAKnB,KAAK2C,IAAIuH,UAAY/I,KAAKnB,KAAK2C,IAAI8F,OACtCtH,KAAKnB,KAAK2C,IAAI8F,OAAO1H,OAAS,GAEhCI,KAAKsN,kBACLtN,KAAK2K,gBACLpK,WAAW,WACT2M,EAAKtC,qBACLsC,EAAKrO,KAAK2C,IAAIqC,QAAQZ,UAAUC,IAAI,oBACtC,EAAG,IACL,IAAC,CAhTe,UAsTD,SAACiE,GAA0B,IAAhBnG,EAAMrB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAA,EAC7B4N,EAAYxK,SAASiK,iBAAiB7F,GACnB,IAArBoG,EAAU3N,SACduB,OAAOyG,aAAezG,OAAOyG,cAAgB,CAAA,EAC7CzG,OAAOyG,aAAaC,UAAY1G,OAAOyG,aAAaC,WAAa,GAEjE0F,EAAUnO,QAAQ,SAACoO,GACjB,GAA0D,SAAtDA,EAAsBC,QAAQC,oBAOlC,GAJiCvM,OAAOyG,aAAaC,UAAU8F,KAC7D,SAAC5F,GAAQ,OAAKA,EAAS6F,oBAAsBJ,CAAqB,GAIlEA,EAAsBC,QAAQC,oBAAsB,WADtD,CAIAF,EAAsBC,QAAQC,oBAAsB,OAEpD,IAAMG,EAAc,IAAI5G,EAAaE,EAAUqG,EAAuBxM,GACtEG,OAAOyG,aAAaC,UAAU3I,KAAK2O,EAJnC,CAKF,GACF"}